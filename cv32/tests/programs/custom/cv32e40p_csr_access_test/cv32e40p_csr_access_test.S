# CSR access test
# Generated by gen_csr_test.py (part of riscv-dv)
# Manual edits to fit with BSP and enhance debug
.include "user_define.h"
.section .text.start
.globl _start
.section .text
#.include "user_init.s"
.type _start, @function

_start:
    j _start_main

.globl _start_main
.section .text
_start_main:

###############################################################################
#
# Generated code starts...
#
###############################################################################

riscv_csr_test_start:

	#ifdef NO_PULP
	#define EXP_MISA 0x40001104
	#else
	#define EXP_MISA 0x40801104
	#endif

	# mstatus
	li x14, 0xa5a5a5a5
	csrrw x11, 768, x14
	li x14, 0x00001800
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrw x11, 768, x14
	li x14, 0x00001880
	bne x14, x11, csr_fail
	li x14, 0xb41992e5
	csrrw x11, 768, x14
	li x14, 0x00001808
	bne x14, x11, csr_fail
	li x14, 0xa5a5a5a5
	csrrs x11, 768, x14
	li x14, 0x00001880
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrs x11, 768, x14
	li x14, 0x00001880
	bne x14, x11, csr_fail
	li x14, 0x7e8f3536
	csrrs x11, 768, x14
	li x14, 0x00001888
	bne x14, x11, csr_fail
	li x14, 0xa5a5a5a5
	csrrc x11, 768, x14
	li x14, 0x00001888
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrc x11, 768, x14
	li x14, 0x00001808
	bne x14, x11, csr_fail
	li x14, 0xded26b04
	csrrc x11, 768, x14
	li x14, 0x00001800
	bne x14, x11, csr_fail
	csrrwi x11, 768, 0b00101
	li x14, 0x00001800
	bne x14, x11, csr_fail
	csrrwi x11, 768, 0b11010
	li x14, 0x00001800
	bne x14, x11, csr_fail
	csrrwi x11, 768, 0b10011
	li x14, 0x00001808
	bne x14, x11, csr_fail
	csrrsi x11, 768, 0b00101
	li x14, 0x00001800
	bne x14, x11, csr_fail
	csrrsi x11, 768, 0b11010
	li x14, 0x00001800
	bne x14, x11, csr_fail
	csrrsi x11, 768, 0b00000
	li x14, 0x00001808
	bne x14, x11, csr_fail
	csrrci x11, 768, 0b00101
	li x14, 0x00001808
	bne x14, x11, csr_fail
	csrrci x11, 768, 0b11010
	li x14, 0x00001808
	bne x14, x11, csr_fail
	csrrci x11, 768, 0b01010
	li x14, 0x00001800
	bne x14, x11, csr_fail
	# misa
	li x15, 0xa5a5a5a5
	csrrw x2, 769, x15
	li x15, EXP_MISA
	bne x15, x2, csr_fail
	li x15, 0x5a5a5a5a
	csrrw x2, 769, x15
	li x15, EXP_MISA
	bne x15, x2, csr_fail
	li x15, 0xb6f9d554
	csrrw x2, 769, x15
	li x15, EXP_MISA
	bne x15, x2, csr_fail
	li x15, 0xa5a5a5a5
	csrrs x2, 769, x15
	li x15, EXP_MISA
	bne x15, x2, csr_fail
	li x15, 0x5a5a5a5a
	csrrs x2, 769, x15
	li x15, EXP_MISA
	bne x15, x2, csr_fail
	li x15, 0x57f503b7
	csrrs x2, 769, x15
	li x15, EXP_MISA
	bne x15, x2, csr_fail
	li x15, 0xa5a5a5a5
	csrrc x2, 769, x15
	li x15, EXP_MISA
	bne x15, x2, csr_fail
	li x15, 0x5a5a5a5a
	csrrc x2, 769, x15
	li x15, EXP_MISA
	bne x15, x2, csr_fail
	li x15, 0x46cb28cc
	csrrc x2, 769, x15
	li x15, EXP_MISA
	bne x15, x2, csr_fail
	csrrwi x2, 769, 0b00101
	li x15, EXP_MISA
	bne x15, x2, csr_fail
	csrrwi x2, 769, 0b11010
	li x15, EXP_MISA
	bne x15, x2, csr_fail
	csrrwi x2, 769, 0b01110
	li x15, EXP_MISA
	bne x15, x2, csr_fail
	csrrsi x2, 769, 0b00101
	li x15, EXP_MISA
	bne x15, x2, csr_fail
	csrrsi x2, 769, 0b11010
	li x15, EXP_MISA
	bne x15, x2, csr_fail
	csrrsi x2, 769, 0b01000
	li x15, EXP_MISA
	bne x15, x2, csr_fail
	csrrci x2, 769, 0b00101
	li x15, EXP_MISA
	bne x15, x2, csr_fail
	csrrci x2, 769, 0b11010
	li x15, EXP_MISA
	bne x15, x2, csr_fail
	csrrci x2, 769, 0b11111
	li x15, EXP_MISA
	bne x15, x2, csr_fail
	# mie
	li x14, 0xa5a5a5a5
	csrrw x11, 772, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrw x11, 772, x14
	li x14, 0xa5a50080
	bne x14, x11, csr_fail
	li x14, 0x1422257a
	csrrw x11, 772, x14
	li x14, 0x5a5a0808
	bne x14, x11, csr_fail
	li x14, 0xa5a5a5a5
	csrrs x11, 772, x14
	li x14, 0x14220008
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrs x11, 772, x14
	li x14, 0xb5a70088
	bne x14, x11, csr_fail
	li x14, 0x42bab81c
	csrrs x11, 772, x14
	li x14, 0xffff0888
	bne x14, x11, csr_fail
	li x14, 0xa5a5a5a5
	csrrc x11, 772, x14
	li x14, 0xffff0888
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrc x11, 772, x14
	li x14, 0x5a5a0808
	bne x14, x11, csr_fail
	li x14, 0xf436365b
	csrrc x11, 772, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrwi x11, 772, 0b00101
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrwi x11, 772, 0b11010
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrwi x11, 772, 0b01011
	li x14, 0x00000008
	bne x14, x11, csr_fail
	csrrsi x11, 772, 0b00101
	li x14, 0x00000008
	bne x14, x11, csr_fail
	csrrsi x11, 772, 0b11010
	li x14, 0x00000008
	bne x14, x11, csr_fail
	csrrsi x11, 772, 0b11000
	li x14, 0x00000008
	bne x14, x11, csr_fail
	csrrci x11, 772, 0b00101
	li x14, 0x00000008
	bne x14, x11, csr_fail
	csrrci x11, 772, 0b11010
	li x14, 0x00000008
	bne x14, x11, csr_fail
	csrrci x11, 772, 0b01011
	li x14, 0x00000000
	bne x14, x11, csr_fail
	# mtvec
	li x14, 0xa5a5a5a5
	csrrw x11, 773, x14
	li x14, 0x00000001
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrw x11, 773, x14
	li x14, 0xa5a5a501
	bne x14, x11, csr_fail
	li x14, 0x7f865be0
	csrrw x11, 773, x14
	li x14, 0x5a5a5a00
	bne x14, x11, csr_fail
	li x14, 0xa5a5a5a5
	csrrs x11, 773, x14
	li x14, 0x7f865b00
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrs x11, 773, x14
	li x14, 0xffa7ff01
	bne x14, x11, csr_fail
	li x14, 0x17642d7b
	csrrs x11, 773, x14
	li x14, 0xffffff01
	bne x14, x11, csr_fail
	li x14, 0xa5a5a5a5
	csrrc x11, 773, x14
	li x14, 0xffffff01
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrc x11, 773, x14
	li x14, 0x5a5a5a00
	bne x14, x11, csr_fail
	li x14, 0xd1fc3ec5
	csrrc x11, 773, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrwi x11, 773, 0b00101
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrwi x11, 773, 0b11010
	li x14, 0x00000001
	bne x14, x11, csr_fail
	csrrwi x11, 773, 0b10010
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrsi x11, 773, 0b00101
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrsi x11, 773, 0b11010
	li x14, 0x00000001
	bne x14, x11, csr_fail
	csrrsi x11, 773, 0b11110
	li x14, 0x00000001
	bne x14, x11, csr_fail
	csrrci x11, 773, 0b00101
	li x14, 0x00000001
	bne x14, x11, csr_fail
	csrrci x11, 773, 0b11010
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrci x11, 773, 0b00111
	li x14, 0x00000000
	bne x14, x11, csr_fail
	# mcountinhibit
	li x14, 0xa5a5a5a5
	csrrw x11, 800, x14
	li x14, 0x0000000d
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrw x11, 800, x14
	li x14, 0x00000005
	bne x14, x11, csr_fail
	li x14, 0x3f040ca7
	csrrw x11, 800, x14
	li x14, 0x00000008
	bne x14, x11, csr_fail
	li x14, 0xa5a5a5a5
	csrrs x11, 800, x14
	li x14, 0x00000005
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrs x11, 800, x14
	li x14, 0x00000005
	bne x14, x11, csr_fail
	li x14, 0x6a9da72a
	csrrs x11, 800, x14
	li x14, 0x0000000d
	bne x14, x11, csr_fail
	li x14, 0xa5a5a5a5
	csrrc x11, 800, x14
	li x14, 0x0000000d
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrc x11, 800, x14
	li x14, 0x00000008
	bne x14, x11, csr_fail
	li x14, 0xf9b378b9
	csrrc x11, 800, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrwi x11, 800, 0b00101
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrwi x11, 800, 0b11010
	li x14, 0x00000005
	bne x14, x11, csr_fail
	csrrwi x11, 800, 0b10100
	li x14, 0x00000008
	bne x14, x11, csr_fail
	csrrsi x11, 800, 0b00101
	li x14, 0x00000004
	bne x14, x11, csr_fail
	csrrsi x11, 800, 0b11010
	li x14, 0x00000005
	bne x14, x11, csr_fail
	csrrsi x11, 800, 0b11101
	li x14, 0x0000000d
	bne x14, x11, csr_fail
	csrrci x11, 800, 0b00101
	li x14, 0x0000000d
	bne x14, x11, csr_fail
	csrrci x11, 800, 0b11010
	li x14, 0x00000008
	bne x14, x11, csr_fail
	csrrci x11, 800, 0b01011
	li x14, 0x00000000
	bne x14, x11, csr_fail
	# mscratch
	li x14, 0xa5a5a5a5
	csrrw x11, 832, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrw x11, 832, x14
	li x14, 0xa5a5a5a5
	bne x14, x11, csr_fail
	li x14, 0xeaa18704
	csrrw x11, 832, x14
	li x14, 0x5a5a5a5a
	bne x14, x11, csr_fail
	li x14, 0xa5a5a5a5
	csrrs x11, 832, x14
	li x14, 0xeaa18704
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrs x11, 832, x14
	li x14, 0xefa5a7a5
	bne x14, x11, csr_fail
	li x14, 0x05a4c086
	csrrs x11, 832, x14
	li x14, 0xffffffff
	bne x14, x11, csr_fail
	li x14, 0xa5a5a5a5
	csrrc x11, 832, x14
	li x14, 0xffffffff
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrc x11, 832, x14
	li x14, 0x5a5a5a5a
	bne x14, x11, csr_fail
	li x14, 0x0f5c1af7
	csrrc x11, 832, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrwi x11, 832, 0b00101
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrwi x11, 832, 0b11010
	li x14, 0x00000005
	bne x14, x11, csr_fail
	csrrwi x11, 832, 0b00001
	li x14, 0x0000001a
	bne x14, x11, csr_fail
	csrrsi x11, 832, 0b00101
	li x14, 0x00000001
	bne x14, x11, csr_fail
	csrrsi x11, 832, 0b11010
	li x14, 0x00000005
	bne x14, x11, csr_fail
	csrrsi x11, 832, 0b00111
	li x14, 0x0000001f
	bne x14, x11, csr_fail
	csrrci x11, 832, 0b00101
	li x14, 0x0000001f
	bne x14, x11, csr_fail
	csrrci x11, 832, 0b11010
	li x14, 0x0000001a
	bne x14, x11, csr_fail
	csrrci x11, 832, 0b10011
	li x14, 0x00000000
	bne x14, x11, csr_fail
	# mepc
	li x14, 0xa5a5a5a5
	csrrw x11, 833, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrw x11, 833, x14
	li x14, 0xa5a5a5a4
	bne x14, x11, csr_fail
	li x14, 0x4c47a22a
	csrrw x11, 833, x14
	li x14, 0x5a5a5a5a
	bne x14, x11, csr_fail
	li x14, 0xa5a5a5a5
	csrrs x11, 833, x14
	li x14, 0x4c47a22a
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrs x11, 833, x14
	li x14, 0xede7a7ae
	bne x14, x11, csr_fail
	li x14, 0xd41aa2f1
	csrrs x11, 833, x14
	li x14, 0xfffffffe
	bne x14, x11, csr_fail
	li x14, 0xa5a5a5a5
	csrrc x11, 833, x14
	li x14, 0xfffffffe
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrc x11, 833, x14
	li x14, 0x5a5a5a5a
	bne x14, x11, csr_fail
	li x14, 0xf945cb66
	csrrc x11, 833, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrwi x11, 833, 0b00101
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrwi x11, 833, 0b11010
	li x14, 0x00000004
	bne x14, x11, csr_fail
	csrrwi x11, 833, 0b00101
	li x14, 0x0000001a
	bne x14, x11, csr_fail
	csrrsi x11, 833, 0b00101
	li x14, 0x00000004
	bne x14, x11, csr_fail
	csrrsi x11, 833, 0b11010
	li x14, 0x00000004
	bne x14, x11, csr_fail
	csrrsi x11, 833, 0b00100
	li x14, 0x0000001e
	bne x14, x11, csr_fail
	csrrci x11, 833, 0b00101
	li x14, 0x0000001e
	bne x14, x11, csr_fail
	csrrci x11, 833, 0b11010
	li x14, 0x0000001a
	bne x14, x11, csr_fail
	csrrci x11, 833, 0b11111
	li x14, 0x00000000
	bne x14, x11, csr_fail
	# mtval
	li x14, 0xa5a5a5a5
	csrrw x11, 835, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrw x11, 835, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0xdbe6512e
	csrrw x11, 835, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0xa5a5a5a5
	csrrs x11, 835, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrs x11, 835, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0xca7f632a
	csrrs x11, 835, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0xa5a5a5a5
	csrrc x11, 835, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrc x11, 835, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0xc7734f7c
	csrrc x11, 835, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrwi x11, 835, 0b00101
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrwi x11, 835, 0b11010
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrwi x11, 835, 0b11001
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrsi x11, 835, 0b00101
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrsi x11, 835, 0b11010
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrsi x11, 835, 0b01001
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrci x11, 835, 0b00101
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrci x11, 835, 0b11010
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrci x11, 835, 0b11110
	li x14, 0x00000000
	bne x14, x11, csr_fail
	# mip
	li x14, 0xa5a5a5a5
	csrrw x11, 836, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrw x11, 836, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0xf4498767
	csrrw x11, 836, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0xa5a5a5a5
	csrrs x11, 836, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrs x11, 836, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0xbd8b4cb5
	csrrs x11, 836, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0xa5a5a5a5
	csrrc x11, 836, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrc x11, 836, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0xb205a13a
	csrrc x11, 836, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrwi x11, 836, 0b00101
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrwi x11, 836, 0b11010
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrwi x11, 836, 0b00000
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrsi x11, 836, 0b00101
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrsi x11, 836, 0b11010
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrsi x11, 836, 0b10010
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrci x11, 836, 0b00101
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrci x11, 836, 0b11010
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrci x11, 836, 0b10111
	li x14, 0x00000000
	bne x14, x11, csr_fail
	# tselect
	li x14, 0xa5a5a5a5
	csrrw x11, 1952, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrw x11, 1952, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0x2ac0e8a5
	csrrw x11, 1952, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0xa5a5a5a5
	csrrs x11, 1952, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrs x11, 1952, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0xab1f346b
	csrrs x11, 1952, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0xa5a5a5a5
	csrrc x11, 1952, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrc x11, 1952, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0x550102f7
	csrrc x11, 1952, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrwi x11, 1952, 0b00101
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrwi x11, 1952, 0b11010
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrwi x11, 1952, 0b11111
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrsi x11, 1952, 0b00101
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrsi x11, 1952, 0b11010
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrsi x11, 1952, 0b10111
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrci x11, 1952, 0b00101
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrci x11, 1952, 0b11010
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrci x11, 1952, 0b10111
	li x14, 0x00000000
	bne x14, x11, csr_fail
	# tdata1
	li x14, 0xa5a5a5a5
	csrrw x11, 1953, x14
	li x14, 0x28001040
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrw x11, 1953, x14
	li x14, 0x28001040
	bne x14, x11, csr_fail
	li x14, 0x3f7509e6
	csrrw x11, 1953, x14
	li x14, 0x28001040
	bne x14, x11, csr_fail
	li x14, 0xa5a5a5a5
	csrrs x11, 1953, x14
	li x14, 0x28001040
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrs x11, 1953, x14
	li x14, 0x28001040
	bne x14, x11, csr_fail
	li x14, 0x4a21d54e
	csrrs x11, 1953, x14
	li x14, 0x28001040
	bne x14, x11, csr_fail
	li x14, 0xa5a5a5a5
	csrrc x11, 1953, x14
	li x14, 0x28001040
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrc x11, 1953, x14
	li x14, 0x28001040
	bne x14, x11, csr_fail
	li x14, 0x5f8c0de1
	csrrc x11, 1953, x14
	li x14, 0x28001040
	bne x14, x11, csr_fail
	csrrwi x11, 1953, 0b00101
	li x14, 0x28001040
	bne x14, x11, csr_fail
	csrrwi x11, 1953, 0b11010
	li x14, 0x28001040
	bne x14, x11, csr_fail
	csrrwi x11, 1953, 0b11001
	li x14, 0x28001040
	bne x14, x11, csr_fail
	csrrsi x11, 1953, 0b00101
	li x14, 0x28001040
	bne x14, x11, csr_fail
	csrrsi x11, 1953, 0b11010
	li x14, 0x28001040
	bne x14, x11, csr_fail
	csrrsi x11, 1953, 0b00100
	li x14, 0x28001040
	bne x14, x11, csr_fail
	csrrci x11, 1953, 0b00101
	li x14, 0x28001040
	bne x14, x11, csr_fail
	csrrci x11, 1953, 0b11010
	li x14, 0x28001040
	bne x14, x11, csr_fail
	csrrci x11, 1953, 0b11000
	li x14, 0x28001040
	bne x14, x11, csr_fail
	# tdata2
	li x14, 0xa5a5a5a5
	csrrw x11, 1954, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrw x11, 1954, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0xbac34ba7
	csrrw x11, 1954, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0xa5a5a5a5
	csrrs x11, 1954, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrs x11, 1954, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0xeb1445ff
	csrrs x11, 1954, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0xa5a5a5a5
	csrrc x11, 1954, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrc x11, 1954, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0xf668afb3
	csrrc x11, 1954, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrwi x11, 1954, 0b00101
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrwi x11, 1954, 0b11010
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrwi x11, 1954, 0b10000
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrsi x11, 1954, 0b00101
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrsi x11, 1954, 0b11010
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrsi x11, 1954, 0b10000
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrci x11, 1954, 0b00101
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrci x11, 1954, 0b11010
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrci x11, 1954, 0b01111
	li x14, 0x00000000
	bne x14, x11, csr_fail
	# tdata3
	li x14, 0xa5a5a5a5
	csrrw x11, 1955, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrw x11, 1955, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0xbc96a5bf
	csrrw x11, 1955, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0xa5a5a5a5
	csrrs x11, 1955, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrs x11, 1955, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0x05710324
	csrrs x11, 1955, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0xa5a5a5a5
	csrrc x11, 1955, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrc x11, 1955, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0x3e1ea2ed
	csrrc x11, 1955, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrwi x11, 1955, 0b00101
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrwi x11, 1955, 0b11010
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrwi x11, 1955, 0b00000
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrsi x11, 1955, 0b00101
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrsi x11, 1955, 0b11010
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrsi x11, 1955, 0b01111
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrci x11, 1955, 0b00101
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrci x11, 1955, 0b11010
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrci x11, 1955, 0b10000
	li x14, 0x00000000
	bne x14, x11, csr_fail
	# tinfo
	li x14, 0xa5a5a5a5
	csrrw x11, 1956, x14
	li x14, 0x00000004
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrw x11, 1956, x14
	li x14, 0x00000004
	bne x14, x11, csr_fail
	li x14, 0xd0717c40
	csrrw x11, 1956, x14
	li x14, 0x00000004
	bne x14, x11, csr_fail
	li x14, 0xa5a5a5a5
	csrrs x11, 1956, x14
	li x14, 0x00000004
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrs x11, 1956, x14
	li x14, 0x00000004
	bne x14, x11, csr_fail
	li x14, 0xb033aa53
	csrrs x11, 1956, x14
	li x14, 0x00000004
	bne x14, x11, csr_fail
	li x14, 0xa5a5a5a5
	csrrc x11, 1956, x14
	li x14, 0x00000004
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrc x11, 1956, x14
	li x14, 0x00000004
	bne x14, x11, csr_fail
	li x14, 0x1e4fd459
	csrrc x11, 1956, x14
	li x14, 0x00000004
	bne x14, x11, csr_fail
	csrrwi x11, 1956, 0b00101
	li x14, 0x00000004
	bne x14, x11, csr_fail
	csrrwi x11, 1956, 0b11010
	li x14, 0x00000004
	bne x14, x11, csr_fail
	csrrwi x11, 1956, 0b00111
	li x14, 0x00000004
	bne x14, x11, csr_fail
	csrrsi x11, 1956, 0b00101
	li x14, 0x00000004
	bne x14, x11, csr_fail
	csrrsi x11, 1956, 0b11010
	li x14, 0x00000004
	bne x14, x11, csr_fail
	csrrsi x11, 1956, 0b11000
	li x14, 0x00000004
	bne x14, x11, csr_fail
	csrrci x11, 1956, 0b00101
	li x14, 0x00000004
	bne x14, x11, csr_fail
	csrrci x11, 1956, 0b11010
	li x14, 0x00000004
	bne x14, x11, csr_fail
	csrrci x11, 1956, 0b00001
	li x14, 0x00000004
	bne x14, x11, csr_fail
	# mcontext
	li x14, 0xa5a5a5a5
	csrrw x11, 1960, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrw x11, 1960, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0xd076dfb3
	csrrw x11, 1960, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0xa5a5a5a5
	csrrs x11, 1960, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrs x11, 1960, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0x4edb3b36
	csrrs x11, 1960, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0xa5a5a5a5
	csrrc x11, 1960, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrc x11, 1960, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0x849b0d82
	csrrc x11, 1960, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrwi x11, 1960, 0b00101
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrwi x11, 1960, 0b11010
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrwi x11, 1960, 0b11110
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrsi x11, 1960, 0b00101
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrsi x11, 1960, 0b11010
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrsi x11, 1960, 0b10100
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrci x11, 1960, 0b00101
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrci x11, 1960, 0b11010
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrci x11, 1960, 0b01011
	li x14, 0x00000000
	bne x14, x11, csr_fail
	# scontext
	li x14, 0xa5a5a5a5
	csrrw x11, 1962, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrw x11, 1962, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0xdabb83a6
	csrrw x11, 1962, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0xa5a5a5a5
	csrrs x11, 1962, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrs x11, 1962, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0x14c7fcc5
	csrrs x11, 1962, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0xa5a5a5a5
	csrrc x11, 1962, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrc x11, 1962, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0x4b886f01
	csrrc x11, 1962, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrwi x11, 1962, 0b00101
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrwi x11, 1962, 0b11010
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrwi x11, 1962, 0b00100
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrsi x11, 1962, 0b00101
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrsi x11, 1962, 0b11010
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrsi x11, 1962, 0b10011
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrci x11, 1962, 0b00101
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrci x11, 1962, 0b11010
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrci x11, 1962, 0b00010
	li x14, 0x00000000
	bne x14, x11, csr_fail
###############################################################################
# Manually added code to inhibit mcycle(h) and minstret(h).
	li x14, 0x0000000d
	csrrw x11, 800, x14  # set mcountinhibit to disable counting
	li x14, 0x00000000
	csrrw x11, 2816, x14 # reset cycle count
	csrrw x11, 2944, x14
	csrrw x11, 2818, x14 # reset instruction retired count
	csrrw x11, 2946, x14
###############################################################################
	# mcycle
	li x14, 0xa5a5a5a5
	csrrw x11, 2816, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrw x11, 2816, x14
	li x14, 0xa5a5a5a5
	bne x14, x11, csr_fail
	li x14, 0x80f2e34e
	csrrw x11, 2816, x14
	li x14, 0x5a5a5a5a
	bne x14, x11, csr_fail
	li x14, 0xa5a5a5a5
	csrrs x11, 2816, x14
	li x14, 0x80f2e34e
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrs x11, 2816, x14
	li x14, 0xa5f7e7ef
	bne x14, x11, csr_fail
	li x14, 0x7b5ff5bb
	csrrs x11, 2816, x14
	li x14, 0xffffffff
	bne x14, x11, csr_fail
	li x14, 0xa5a5a5a5
	csrrc x11, 2816, x14
	li x14, 0xffffffff
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrc x11, 2816, x14
	li x14, 0x5a5a5a5a
	bne x14, x11, csr_fail
	li x14, 0x46c37b82
	csrrc x11, 2816, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrwi x11, 2816, 0b00101
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrwi x11, 2816, 0b11010
	li x14, 0x00000005
	bne x14, x11, csr_fail
	csrrwi x11, 2816, 0b11111
	li x14, 0x0000001a
	bne x14, x11, csr_fail
	csrrsi x11, 2816, 0b00101
	li x14, 0x0000001f
	bne x14, x11, csr_fail
	csrrsi x11, 2816, 0b11010
	li x14, 0x0000001f
	bne x14, x11, csr_fail
	csrrsi x11, 2816, 0b01010
	li x14, 0x0000001f
	bne x14, x11, csr_fail
	csrrci x11, 2816, 0b00101
	li x14, 0x0000001f
	bne x14, x11, csr_fail
	csrrci x11, 2816, 0b11010
	li x14, 0x0000001a
	bne x14, x11, csr_fail
	csrrci x11, 2816, 0b11000
	li x14, 0x00000000
	bne x14, x11, csr_fail
	# mcycleh
	li x14, 0xa5a5a5a5
	csrrw x11, 2944, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrw x11, 2944, x14
	li x14, 0xa5a5a5a5
	bne x14, x11, csr_fail
	li x14, 0x32089337
	csrrw x11, 2944, x14
	li x14, 0x5a5a5a5a
	bne x14, x11, csr_fail
	li x14, 0xa5a5a5a5
	csrrs x11, 2944, x14
	li x14, 0x32089337
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrs x11, 2944, x14
	li x14, 0xb7adb7b7
	bne x14, x11, csr_fail
	li x14, 0x9aee3d19
	csrrs x11, 2944, x14
	li x14, 0xffffffff
	bne x14, x11, csr_fail
	li x14, 0xa5a5a5a5
	csrrc x11, 2944, x14
	li x14, 0xffffffff
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrc x11, 2944, x14
	li x14, 0x5a5a5a5a
	bne x14, x11, csr_fail
	li x14, 0x77ea84fc
	csrrc x11, 2944, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrwi x11, 2944, 0b00101
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrwi x11, 2944, 0b11010
	li x14, 0x00000005
	bne x14, x11, csr_fail
	csrrwi x11, 2944, 0b11011
	li x14, 0x0000001a
	bne x14, x11, csr_fail
	csrrsi x11, 2944, 0b00101
	li x14, 0x0000001b
	bne x14, x11, csr_fail
	csrrsi x11, 2944, 0b11010
	li x14, 0x0000001f
	bne x14, x11, csr_fail
	csrrsi x11, 2944, 0b10110
	li x14, 0x0000001f
	bne x14, x11, csr_fail
	csrrci x11, 2944, 0b00101
	li x14, 0x0000001f
	bne x14, x11, csr_fail
	csrrci x11, 2944, 0b11010
	li x14, 0x0000001a
	bne x14, x11, csr_fail
	csrrci x11, 2944, 0b00010
	li x14, 0x00000000
	bne x14, x11, csr_fail
	# minstret
	li x14, 0xa5a5a5a5
	csrrw x11, 2818, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrw x11, 2818, x14
	li x14, 0xa5a5a5a5
	bne x14, x11, csr_fail
	li x14, 0xabdd6baa
	csrrw x11, 2818, x14
	li x14, 0x5a5a5a5a
	bne x14, x11, csr_fail
	li x14, 0xa5a5a5a5
	csrrs x11, 2818, x14
	li x14, 0xabdd6baa
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrs x11, 2818, x14
	li x14, 0xaffdefaf
	bne x14, x11, csr_fail
	li x14, 0x08af6ff2
	csrrs x11, 2818, x14
	li x14, 0xffffffff
	bne x14, x11, csr_fail
	li x14, 0xa5a5a5a5
	csrrc x11, 2818, x14
	li x14, 0xffffffff
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrc x11, 2818, x14
	li x14, 0x5a5a5a5a
	bne x14, x11, csr_fail
	li x14, 0x008e315b
	csrrc x11, 2818, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrwi x11, 2818, 0b00101
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrwi x11, 2818, 0b11010
	li x14, 0x00000005
	bne x14, x11, csr_fail
	csrrwi x11, 2818, 0b10001
	li x14, 0x0000001a
	bne x14, x11, csr_fail
	csrrsi x11, 2818, 0b00101
	li x14, 0x00000011
	bne x14, x11, csr_fail
	csrrsi x11, 2818, 0b11010
	li x14, 0x00000015
	bne x14, x11, csr_fail
	csrrsi x11, 2818, 0b01010
	li x14, 0x0000001f
	bne x14, x11, csr_fail
	csrrci x11, 2818, 0b00101
	li x14, 0x0000001f
	bne x14, x11, csr_fail
	csrrci x11, 2818, 0b11010
	li x14, 0x0000001a
	bne x14, x11, csr_fail
	csrrci x11, 2818, 0b10010
	li x14, 0x00000000
	bne x14, x11, csr_fail
	# minstreth
	li x14, 0xa5a5a5a5
	csrrw x11, 2946, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrw x11, 2946, x14
	li x14, 0xa5a5a5a5
	bne x14, x11, csr_fail
	li x14, 0x5bfecb00
	csrrw x11, 2946, x14
	li x14, 0x5a5a5a5a
	bne x14, x11, csr_fail
	li x14, 0xa5a5a5a5
	csrrs x11, 2946, x14
	li x14, 0x5bfecb00
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrs x11, 2946, x14
	li x14, 0xffffefa5
	bne x14, x11, csr_fail
	li x14, 0x211e5f90
	csrrs x11, 2946, x14
	li x14, 0xffffffff
	bne x14, x11, csr_fail
	li x14, 0xa5a5a5a5
	csrrc x11, 2946, x14
	li x14, 0xffffffff
	bne x14, x11, csr_fail
	li x14, 0x5a5a5a5a
	csrrc x11, 2946, x14
	li x14, 0x5a5a5a5a
	bne x14, x11, csr_fail
	li x14, 0x1cbbe3d7
	csrrc x11, 2946, x14
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrwi x11, 2946, 0b00101
	li x14, 0x00000000
	bne x14, x11, csr_fail
	csrrwi x11, 2946, 0b11010
	li x14, 0x00000005
	bne x14, x11, csr_fail
	csrrwi x11, 2946, 0b11110
	li x14, 0x0000001a
	bne x14, x11, csr_fail
	csrrsi x11, 2946, 0b00101
	li x14, 0x0000001e
	bne x14, x11, csr_fail
	csrrsi x11, 2946, 0b11010
	li x14, 0x0000001f
	bne x14, x11, csr_fail
	csrrsi x11, 2946, 0b01001
	li x14, 0x0000001f
	bne x14, x11, csr_fail
	csrrci x11, 2946, 0b00101
	li x14, 0x0000001f
	bne x14, x11, csr_fail
	csrrci x11, 2946, 0b11010
	li x14, 0x0000001a
	bne x14, x11, csr_fail
	csrrci x11, 2946, 0b00111
	li x14, 0x00000000
	bne x14, x11, csr_fail

###############################################################################
# The bulk of the mvendorid test is commented out due to a bug in the RTL:
# writes to this CSR should be ignored, but instead they cause and illegal
# instruction exception.  For now this code simply checks the PoR value.
# https://github.com/openhwgroup/cv32e40p/issues/543
###############################################################################
	# mvendorid
	li x14, 0xa5a5a5a5
#	csrrw x11, 3857, x14
	csrr x11, 3857
	li x14, 0x00000602
	bne x14, x11, csr_fail
#	li x14, 0x5a5a5a5a
#	csrrw x11, 3857, x14
#	li x14, 0x00000602
#	bne x14, x11, csr_fail
#	li x14, 0x7bcafca5
#	csrrw x11, 3857, x14
#	li x14, 0x00000602
#	bne x14, x11, csr_fail
#	li x14, 0xa5a5a5a5
#	csrrs x11, 3857, x14
#	li x14, 0x00000602
#	bne x14, x11, csr_fail
#	li x14, 0x5a5a5a5a
#	csrrs x11, 3857, x14
#	li x14, 0x00000602
#	bne x14, x11, csr_fail
#	li x14, 0x3c067621
#	csrrs x11, 3857, x14
#	li x14, 0x00000602
#	bne x14, x11, csr_fail
#	li x14, 0xa5a5a5a5
#	csrrc x11, 3857, x14
#	li x14, 0x00000602
#	bne x14, x11, csr_fail
#	li x14, 0x5a5a5a5a
#	csrrc x11, 3857, x14
#	li x14, 0x00000602
#	bne x14, x11, csr_fail
#	li x14, 0x4175c41a
#	csrrc x11, 3857, x14
#	li x14, 0x00000602
#	bne x14, x11, csr_fail
#	csrrwi x11, 3857, 0b00101
#	li x14, 0x00000602
#	bne x14, x11, csr_fail
#	csrrwi x11, 3857, 0b11010
#	li x14, 0x00000602
#	bne x14, x11, csr_fail
#	csrrwi x11, 3857, 0b01011
#	li x14, 0x00000602
#	bne x14, x11, csr_fail
#	csrrsi x11, 3857, 0b00101
#	li x14, 0x00000602
#	bne x14, x11, csr_fail
#	csrrsi x11, 3857, 0b11010
#	li x14, 0x00000602
#	bne x14, x11, csr_fail
#	csrrsi x11, 3857, 0b10101
#	li x14, 0x00000602
#	bne x14, x11, csr_fail
#	csrrci x11, 3857, 0b00101
#	li x14, 0x00000602
#	bne x14, x11, csr_fail
#	csrrci x11, 3857, 0b11010
#	li x14, 0x00000602
#	bne x14, x11, csr_fail
#	csrrci x11, 3857, 0b01111
#	li x14, 0x00000602
#	bne x14, x11, csr_fail

###############################################################################
# The bulk of the marchid test is commented out due to a bug in the RTL:
# writes to this CSR should be ignored, but instead they cause and illegal
# instruction exception.  For now this code simply checks the PoR value.
# https://github.com/openhwgroup/cv32e40p/issues/543
###############################################################################
	# marchid
	li x14, 0xa5a5a5a5
#	csrrw x11, 3858, x14
	csrr x11, 3858
	li x14, 0x00000004
	bne x14, x11, csr_fail
#	li x14, 0x5a5a5a5a
#	csrrw x11, 3858, x14
#	li x14, 0x00000004
#	bne x14, x11, csr_fail
#	li x14, 0xccaf8f89
#	csrrw x11, 3858, x14
#	li x14, 0x00000004
#	bne x14, x11, csr_fail
#	li x14, 0xa5a5a5a5
#	csrrs x11, 3858, x14
#	li x14, 0x00000004
#	bne x14, x11, csr_fail
#	li x14, 0x5a5a5a5a
#	csrrs x11, 3858, x14
#	li x14, 0x00000004
#	bne x14, x11, csr_fail
#	li x14, 0x0aa31a50
#	csrrs x11, 3858, x14
#	li x14, 0x00000004
#	bne x14, x11, csr_fail
#	li x14, 0xa5a5a5a5
#	csrrc x11, 3858, x14
#	li x14, 0x00000004
#	bne x14, x11, csr_fail
#	li x14, 0x5a5a5a5a
#	csrrc x11, 3858, x14
#	li x14, 0x00000004
#	bne x14, x11, csr_fail
#	li x14, 0x3f892473
#	csrrc x11, 3858, x14
#	li x14, 0x00000004
#	bne x14, x11, csr_fail
#	csrrwi x11, 3858, 0b00101
#	li x14, 0x00000004
#	bne x14, x11, csr_fail
#	csrrwi x11, 3858, 0b11010
#	li x14, 0x00000004
#	bne x14, x11, csr_fail
#	csrrwi x11, 3858, 0b11001
#	li x14, 0x00000004
#	bne x14, x11, csr_fail
#	csrrsi x11, 3858, 0b00101
#	li x14, 0x00000004
#	bne x14, x11, csr_fail
#	csrrsi x11, 3858, 0b11010
#	li x14, 0x00000004
#	bne x14, x11, csr_fail
#	csrrsi x11, 3858, 0b11110
#	li x14, 0x00000004
#	bne x14, x11, csr_fail
#	csrrci x11, 3858, 0b00101
#	li x14, 0x00000004
#	bne x14, x11, csr_fail
#	csrrci x11, 3858, 0b11010
#	li x14, 0x00000004
#	bne x14, x11, csr_fail
#	csrrci x11, 3858, 0b10100
#	li x14, 0x00000004
#	bne x14, x11, csr_fail

###############################################################################
# The bulk of the mimpid test is commented out due to a bug in the RTL:
# writes to this CSR should be ignored, but instead they cause and illegal
# instruction exception.  For now this code simply checks the PoR value.
# https://github.com/openhwgroup/cv32e40p/issues/543
###############################################################################
	# mimpid
	li x14, 0xa5a5a5a5
#	csrrw x11, 3859, x14
	csrr x11, 3859
	li x14, 0x00000000
	bne x14, x11, csr_fail
#	li x14, 0x5a5a5a5a
#	csrrw x11, 3859, x14
#	li x14, 0x00000000
#	bne x14, x11, csr_fail
#	li x14, 0x775c0ff8
#	csrrw x11, 3859, x14
#	li x14, 0x00000000
#	bne x14, x11, csr_fail
#	li x14, 0xa5a5a5a5
#	csrrs x11, 3859, x14
#	li x14, 0x00000000
#	bne x14, x11, csr_fail
#	li x14, 0x5a5a5a5a
#	csrrs x11, 3859, x14
#	li x14, 0x00000000
#	bne x14, x11, csr_fail
#	li x14, 0xc9a8edcf
#	csrrs x11, 3859, x14
#	li x14, 0x00000000
#	bne x14, x11, csr_fail
#	li x14, 0xa5a5a5a5
#	csrrc x11, 3859, x14
#	li x14, 0x00000000
#	bne x14, x11, csr_fail
#	li x14, 0x5a5a5a5a
#	csrrc x11, 3859, x14
#	li x14, 0x00000000
#	bne x14, x11, csr_fail
#	li x14, 0x3846ce8d
#	csrrc x11, 3859, x14
#	li x14, 0x00000000
#	bne x14, x11, csr_fail
#	csrrwi x11, 3859, 0b00101
#	li x14, 0x00000000
#	bne x14, x11, csr_fail
#	csrrwi x11, 3859, 0b11010
#	li x14, 0x00000000
#	bne x14, x11, csr_fail
#	csrrwi x11, 3859, 0b01000
#	li x14, 0x00000000
#	bne x14, x11, csr_fail
#	csrrsi x11, 3859, 0b00101
#	li x14, 0x00000000
#	bne x14, x11, csr_fail
#	csrrsi x11, 3859, 0b11010
#	li x14, 0x00000000
#	bne x14, x11, csr_fail
#	csrrsi x11, 3859, 0b10000
#	li x14, 0x00000000
#	bne x14, x11, csr_fail
#	csrrci x11, 3859, 0b00101
#	li x14, 0x00000000
#	bne x14, x11, csr_fail
#	csrrci x11, 3859, 0b11010
#	li x14, 0x00000000
#	bne x14, x11, csr_fail
#	csrrci x11, 3859, 0b11011
#	li x14, 0x00000000
#	bne x14, x11, csr_fail

###############################################################################
# The bulk of the mhartid test is commented out due to a bug in the RTL:
# writes to this CSR should be ignored, but instead they cause and illegal
# instruction exception.  For now this code simply checks the PoR value.
# https://github.com/openhwgroup/cv32e40p/issues/543
###############################################################################
	# mhartid
	li x14, 0xa5a5a5a5
#	csrrw x11, 3860, x14
	csrr x11, 3860
	li x14, 0x00000000
	bne x14, x11, csr_fail
#	li x14, 0x5a5a5a5a
#	csrrw x11, 3860, x14
#	li x14, 0x00000000
#	bne x14, x11, csr_fail
#	li x14, 0x9a1a9c33
#	csrrw x11, 3860, x14
#	li x14, 0x00000000
#	bne x14, x11, csr_fail
#	li x14, 0xa5a5a5a5
#	csrrs x11, 3860, x14
#	li x14, 0x00000000
#	bne x14, x11, csr_fail
#	li x14, 0x5a5a5a5a
#	csrrs x11, 3860, x14
#	li x14, 0x00000000
#	bne x14, x11, csr_fail
#	li x14, 0x6d7a55de
#	csrrs x11, 3860, x14
#	li x14, 0x00000000
#	bne x14, x11, csr_fail
#	li x14, 0xa5a5a5a5
#	csrrc x11, 3860, x14
#	li x14, 0x00000000
#	bne x14, x11, csr_fail
#	li x14, 0x5a5a5a5a
#	csrrc x11, 3860, x14
#	li x14, 0x00000000
#	bne x14, x11, csr_fail
#	li x14, 0xf4c85073
#	csrrc x11, 3860, x14
#	li x14, 0x00000000
#	bne x14, x11, csr_fail
#	csrrwi x11, 3860, 0b00101
#	li x14, 0x00000000
#	bne x14, x11, csr_fail
#	csrrwi x11, 3860, 0b11010
#	li x14, 0x00000000
#	bne x14, x11, csr_fail
#	csrrwi x11, 3860, 0b11101
#	li x14, 0x00000000
#	bne x14, x11, csr_fail
#	csrrsi x11, 3860, 0b00101
#	li x14, 0x00000000
#	bne x14, x11, csr_fail
#	csrrsi x11, 3860, 0b11010
#	li x14, 0x00000000
#	bne x14, x11, csr_fail
#	csrrsi x11, 3860, 0b11111
#	li x14, 0x00000000
#	bne x14, x11, csr_fail
#	csrrci x11, 3860, 0b00101
#	li x14, 0x00000000
#	bne x14, x11, csr_fail
#	csrrci x11, 3860, 0b11010
#	li x14, 0x00000000
#	bne x14, x11, csr_fail
#	csrrci x11, 3860, 0b11100
#	li x14, 0x00000000
#	bne x14, x11, csr_fail
#	csrr x11, 3860
#	li x14, 0x00000000
#	bne x14, x11, csr_fail

riscv_csr_test_end:

################################################################################
#
# Generated code ends...
#
################################################################################
test_done:
    lui a0,print_port>>12
    addi a1,zero,'\n'
    sw a1,0(a0)
    addi a1,zero,'C'
    sw a1,0(a0)
    addi a1,zero,'V'
    sw a1,0(a0)
    addi a1,zero,'3'
    sw a1,0(a0)
    addi a1,zero,'2'
    sw a1,0(a0)
    addi a1,zero,' '
    sw a1,0(a0)
    addi a1,zero,'D'
    sw a1,0(a0)
    addi a1,zero,'O'
    sw a1,0(a0)
    addi a1,zero,'N'
    sw a1,0(a0)
    addi a1,zero,'E'
    sw a1,0(a0)
    addi a1,zero,'\n'
    sw a1,0(a0)
    sw a1,0(a0)

csr_pass:
    li x18, 123456789
    li x17, 0x20000000
    sw x18,0(x17)
    wfi

csr_fail:
    lui a0,print_port>>12
    addi a1,zero,'\n'
    sw a1,0(a0)
    addi a1,zero,'C'
    sw a1,0(a0)
    addi a1,zero,'V'
    sw a1,0(a0)
    addi a1,zero,'3'
    sw a1,0(a0)
    addi a1,zero,'2'
    sw a1,0(a0)
    addi a1,zero,' '
    sw a1,0(a0)
    addi a1,zero,'F'
    sw a1,0(a0)
    addi a1,zero,'A'
    sw a1,0(a0)
    addi a1,zero,'I'
    sw a1,0(a0)
    addi a1,zero,'L'
    sw a1,0(a0)
    addi a1,zero,'\n'
    sw a1,0(a0)
    sw a1,0(a0)

    li x18, 1
    li x17, 0x20000000
    sw x18,0(x17)
    wfi
#
# end
#
